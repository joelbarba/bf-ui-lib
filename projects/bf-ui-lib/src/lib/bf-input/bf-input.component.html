<div class="form-group  bf-input-form-group"
     [class.is-required]="bfRequired"
     [class.is-disabled]="bfDisabled"
     [class.is-pristine]="isPristine"
     [class.is-dirty]="!isPristine"
     [class.is-focus]="isFocus"
     [class.is-error]="status === 'error'"
     [class.error-top-right]="errorPosition === 'top-right'"
     [class.error-bottom-left]="errorPosition === 'bottom-left'"
     [class.error-bottom-right]="errorPosition === 'bottom-right'"
     [class.horizontalLayoutClass]="false">
  <label *ngIf="!!bfLabel" [class.is-required]="bfRequired">
    <span class="info-badge" *ngIf="!!bfTooltip"
         [ngbPopover]="bfTooltipTrans$ | async" [placement]="bfTooltipPos" triggers="hover"
         [container]="(bfTooltipBody ? 'body' : '')">
      <span class="icon-info"></span>
    </span>
    <span>{{bfLabelTrans$ | async}}</span>:
    <span *ngIf="bfRequired" class="asterisk">*</span>
  </label>

  <span *ngIf="status === 'error'" class="bf-input-error-text"
        [class.top-right]="errorPosition === 'top-right'"
        [class.bottom-left]="errorPosition === 'bottom-left'"
        [class.bottom-right]="errorPosition === 'bottom-right'">
    {{errorTextTrans$ | async}}
  </span>

  <span *ngIf="displayIcon" class="bf-input-inner-icon"
        [ngClass]="displayIcon"
        [class.bf-icon-error]="status === 'error'">
  </span>

  <div class="input-wrapper"
       [class.has-autofill-detection]="hasAutofillDetection"
       [class.input-group]="!!bfLeftBtnIcon || !!bfRightBtnIcon || !!bfLeftBtnText || !!bfRightBtnText"
       triggers="hover" container="body" [disablePopover]="!bfDisabled || !bfDisabledTip" placement="top"
       [ngbPopover]="bfDisabledTipTrans$ | async">

    <div class="input-group-prepend" *ngIf="!!bfLeftBtnIcon || !!bfLeftBtnText"
         (click)="bfLeftBtnClick.emit($event)">
      <button class="btn btn-outline-secondary">
        <div [class]="bfLeftBtnIcon" [hidden]="!bfLeftBtnIcon"></div>
        <div [hidden]="!bfLeftBtnText">{{bfLeftBtnText}}</div>
      </button>
    </div>

         <!--[formControl]="inputCtrl"-->
    <input class="form-control" name="bfInput" #ngInputRef="ngModel"
           [ngModel]="bfModel" (ngModelChange)="parseModelChange($event)"
           [disabled]="bfDisabled"

           [required]="bfRequired"
           [minlength]="bfMinlength"
           [maxlength]="bfMaxlength"
           [pattern]="bfPattern"

           [placeholder]="bfPlaceholderTrans$ | async"
           (focusin)="isFocus=true"
           (focusout)="isFocus=false"
           [type]="bfType"
           (keydown)="triggerKey($event)"/>

    <div class="input-group-append" *ngIf="!!bfRightBtnIcon || !!bfRightBtnText"
         (click)="bfRightBtnClick.emit($event)">
      <button class="btn btn-outline-secondary">
        <div [class]="bfRightBtnIcon" [hidden]="!bfRightBtnIcon"></div>
        <div [hidden]="!bfRightBtnText">{{bfRightBtnText}}</div>
      </button>
    </div>
  </div>
</div>
